<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieWeb App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>
<body style="background-color:#ADD8E6; color: #333; padding: 20px; font-family: Arial, sans-serif;">

<h1 style="text-align:center; color: #dc3545;">MovieWeb App</h1>

<h2 style="text-align: center; color: #dc3545;"><mark>{{user_name}}</mark>'s Movie</h2>

     <h3> Searched Movies for Keyword: <strong><em style="color:blue;">{{keyword}}</em></strong> are : </h3>


<div style="display: flex; justify-content: center; margin-bottom: 40px;">
    <ul style="list-style: none; padding: 0; margin: 0; display: flex;
    flex-wrap: wrap; justify-content: center; max-width: 1200px;">
        {% for movie in movies %}
        <div class="movie-box" style="  margin-bottom: 30px; background-color: #fff;
        border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease; overflow: hidden; margin-right: 20px;">
            <div>
                <li>
                    <div class="card" style="width: 100%;height:250px; border-radius: 10px; overflow: hidden;">

                         {% if movie.note %}

                        <a href="https://www.omdbapi.com/"><img src="{{movie.poster}}" title="{{movie.note}}" style="cursor: pointer;
                         width: 100%; height: 100%;
                         border-top-left-radius: 10px;
                         border-top-right-radius: 10px;"
                             class="card-img-top" alt=""></a>

                        {% else %}
                      <a href="https://www.omdbapi.com/">
                          <img src="{{movie.poster}}" style="cursor: pointer; width: 100%;
                        height: 100%; border-top-left-radius: 10px;
                         border-top-right-radius: 10px;" class="card-img-top" alt=""></a>
                        {% endif %}


                    </div>

                    <div class="card-body" style="padding: 20px;">
                        <span style="font-size: 16px; color: #555; margin-bottom: 10px; padding-bottom:20px;">
                            <em> <strong>{{movie.movie_name}}</strong> </em>
                        </span><br>

                            Year: <span style="color: #17a2b8;margin-right: 20px;">{{movie.year }}</span>
                            Rating: <span style="color: #ffc107;">{{movie.rating }}</span><br><br>
                        <div style="display: flex; justify-content: space-around;">
                            <form action="/users/{{user_id}}/update_movie/{{movie.movie_id}}">
                                <input type="submit" style="background-color: #28a745;
                                color: #fff; border: none;
                                 border-radius: 5px;
                                  padding: 5px 15px;
                                 cursor: pointer;
                                 transition: background-color 0.3s, color 0.3s;" value="EDIT">
                            </form>
                            <form action="/users/{{user_id}}/delete_movie/{{movie.movie_id}}">
                                <input type="submit" style="background-color: #dc3545;
                                 color: #fff; border: none;
                                 border-radius: 5px;
                                  padding: 5px 15px; cursor: pointer;
                                 transition: background-color 0.3s, color 0.3s;" value="DELETE">
                            </form>
                        </div>
                    </div>
                </li>
            </div>
            <div style="text-align: center; margin-bottom: 20px;">
                <form action="/add_review/{{user_id}}/{{movie.movie_id}}">
                    <input type="submit" style="background-color: #007bff; color: #fff; border: none; border-radius: 5px; padding: 10px 20px; cursor: pointer; transition: background-color 0.3s, color 0.3s;" value="Add Review">
                </form>
            </div>
        </div>
        {% endfor %}
    </ul>
</div>

<!-- <div style="display: flex; justify-content: space-around;">
    {% if movies.has_prev %}
    <a href="?page=1" style="margin-bottom:20px;text-decoration:none;"> &laquo;First Page</a>
    <a href="?page={{ movies.prev_num }}" style="margin-bottom:20px;text-decoration:none;"  > &laquo;Previous Page</a>
    {% endif %}
    {% if movies.has_next %}
    <a href="?page={{ movies.next_num }}"
    style="margin-bottom:20px;
    text-decoration:none;">Next Page&raquo;</a>
    {% endif %}
</div> -->



<!-- html code to implement the button to add movie-->
<div style="display: flex; justify-content: space-around;">
    <form action="/users/{{user_id}}/add_movie">
        <input type="submit" style="margin-bottom: 20px; margin-left: 20px; color: #fff; background-color: #ff69b4; border: 2px solid #ff69b4; border-radius: 5px; padding: 10px; cursor: pointer; transition: background-color 0.3s, border-color 0.3s;" value="Add Movie">
    </form>

<!-- html code to implement to Go back to favourite movies movie-->

   <form action="/users/{{user_id}}">

      <input type="submit" value="Back to Favourite Movies">

  </form>


</div>

</body>
</html>
